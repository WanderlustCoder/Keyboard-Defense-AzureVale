# Keyboard Defense CI guard thresholds
# Each top-level key represents a section that can be targeted via
# `--sections` when invoking scripts/ci/validate.mjs.

smoke:
  serverReadyMs:
    max: 7000
  status:
    eq: success

tutorial:
  status:
    eq: success
  mode:
    eq: skip

monitor:
  failureCount:
    max: 0
    severity: warn
  latencyP95Ms:
    max: 500
    severity: warn

gold:
  rows:
    min: 1
  gain:
    p90:
      min: 25
      max: 2500
      severity: warn
  spend:
    p90:
      min: -2000
      severity: warn
  percentiles:
    eq: [25, 50, 90]
    severity: warn

screenshots:
  status:
    eq: success
  captured:
    min: 2
  diffPixels:
    max: 0
    severity: warn
    allowMissing: true

breach:
  breached:
    eq: true
    severity: warn
    allowMissing: true
  timeToBreachMs:
    max: 20000
    severity: warn
    allowMissing: true
