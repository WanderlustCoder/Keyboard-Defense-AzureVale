import { type WordBank } from "../core/wordBank.js";
import { type TypingDrillMode, type TypingDrillSummary } from "../core/types.js";
type TypingDrillCallbacks = {
    onClose?: () => void;
    onStart?: (mode: TypingDrillMode, source: string) => void;
    onSummary?: (summary: TypingDrillSummary) => void;
};
export declare class TypingDrillsOverlay {
    private readonly root;
    private readonly wordBank;
    private readonly callbacks;
    private readonly modeButtons;
    private readonly body?;
    private readonly statusLabel?;
    private readonly progressLabel?;
    private readonly timerLabel?;
    private readonly targetEl?;
    private readonly input?;
    private readonly startBtn?;
    private readonly resetBtn?;
    private readonly slowMoBtn?;
    private readonly metronomeBtn?;
    private readonly handBtn?;
    private readonly accuracyEl?;
    private readonly comboEl?;
    private readonly wpmEl?;
    private readonly wordsEl?;
    private readonly summaryEl?;
    private readonly summaryTime?;
    private readonly summaryAccuracy?;
    private readonly summaryCombo?;
    private readonly summaryWords?;
    private readonly summaryErrors?;
    private readonly summaryLeft?;
    private readonly summaryRight?;
    private readonly summaryPacing?;
    private readonly summaryTip?;
    private readonly summaryMedal?;
    private readonly summaryMedalLabel?;
    private readonly summaryMedalHint?;
    private readonly summaryReplay?;
    private readonly fallbackEl?;
    private readonly toastEl?;
    private readonly recommendationEl?;
    private readonly recommendationBadge?;
    private readonly recommendationReason?;
    private readonly recommendationRun?;
    private readonly lessonPicker?;
    private readonly lessonSelect?;
    private readonly lessonDescription?;
    private readonly masteryTarget?;
    private readonly masteryNodes;
    private readonly masteryUnlocks;
    private readonly modeMetaDefaults;
    private resizeHandler?;
    private layoutPulseTimeout?;
    private isCondensedLayout;
    private cleanupTimer?;
    private recommendationMode;
    private advancedSymbolsUnlocked;
    private toastTimeout?;
    private lessonCatalog;
    private lessonId;
    private lessonWords;
    private lessonSelectionTouched;
    private shiftTutorSlowMo;
    private metronomeEnabled;
    private handIsolationSide;
    private metronomeSoundLevel;
    private metronomeHapticsAllowed;
    private metronomeBeatTimeout?;
    private metronomeLoopTimeout?;
    private metronomeNextBeatAt;
    private metronomeBeatIndex;
    private metronomeAudio;
    private reactionPromptTimeout?;
    private reactionPromptAt;
    private reactionPromptKey;
    private reactionLatenciesMs;
    private reactionLastLatencyMs;
    private supportPromptLane;
    private supportPromptAction;
    private supportPromptAt;
    private supportLatenciesMs;
    private supportLastLatencyMs;
    private supportPreviousLane;
    private sprintGhostRun;
    private sprintGhostWordsBySecond;
    private sprintGhostRecordingWordsBySecond;
    private sprintGhostLastSecondRecorded;
    private readingQueue;
    private readingPassageIndex;
    private readingQuestionIndex;
    private readingStage;
    private readingTotalQuestions;
    private focusKeys;
    private focusSegments;
    private warmupKeys;
    private warmupSegments;
    private comboSegments;
    private comboMistakeBudget;
    private comboMistakesRemaining;
    private comboUnshieldedErrorsThisWord;
    private patternStats;
    private fingerMasteryState;
    private fingerRunStats;
    private lastFingerTimingAt;
    private fingerLookup;
    private state;
    constructor(options: {
        root: HTMLElement;
        wordBank?: WordBank;
        callbacks?: TypingDrillCallbacks;
    });
    open(mode?: TypingDrillMode, source?: string, toastMessage?: string): void;
    close(): void;
    isVisible(): boolean;
    isActive(): boolean;
    getLessonId(): string | null;
    start(mode?: TypingDrillMode): void;
    reset(mode?: TypingDrillMode): void;
    setAdvancedSymbolsUnlocked(unlocked: boolean): void;
    setFocusKeys(keys: string[]): void;
    private ensureFocusSegments;
    setWarmupKeys(keys: string[]): void;
    private ensureWarmupSegments;
    private ensureComboSegments;
    private resetComboSegmentBudget;
    private buildWarmupBaselineTargets;
    private buildWarmupCadenceTargets;
    private sampleWordBank;
    private buildFocusTargetsForKey;
    private resetPatternStats;
    private recordPatternAttempt;
    private buildPatternStatsPayload;
    private getStorage;
    private updateFingerLookup;
    private resetFingerMasteryRun;
    private normalizeFingerKey;
    private getFingerId;
    private recordFingerMasteryAttempt;
    private commitFingerMasteryRun;
    private refreshFingerMasteryState;
    private updateMasteryTree;
    private updateLockedModes;
    private getModeLockReason;
    private isModeLocked;
    private getFirstUnlockedMode;
    private resolveMode;
    private updateLayoutMode;
    private attachEvents;
    private initializeLessonPicker;
    private syncLessonSelectionFromProgress;
    private setLessonId;
    private applyLessonSelection;
    private handleKey;
    private handleShortcutKey;
    private handleShiftTutorKey;
    private handleReactionKey;
    private handleSupportKey;
    private handleReadingKey;
    private matchesShortcutChord;
    private classifyHand;
    private evaluateCompletion;
    private commitWord;
    private finish;
    private buildSummary;
    private toAnalyticsSummary;
    private buildTip;
    private renderSummary;
    private renderMedalResult;
    private updateMode;
    private updateShiftTutorControls;
    private updateMetronomeControls;
    private updateHandIsolationControls;
    private updateLessonControls;
    private stopMetronome;
    private startMetronome;
    private pulseMetronomeIndicator;
    private playMetronomeClick;
    private playMetronomeHaptic;
    private ensureLessonWordPool;
    private pickWord;
    private updateTarget;
    private getGhostStorage;
    private readTypingDrillGhostStore;
    private writeTypingDrillGhostStore;
    private readSprintGhostRun;
    private buildSprintGhostWordsBySecond;
    private prepareSprintGhost;
    private recordSprintGhostProgress;
    private getSprintGhostWordsAtSecond;
    private isBetterSprintGhost;
    private maybeUpdateSprintGhost;
    private updateMetrics;
    private updateTimer;
    private startTimer;
    private updateTimedSegment;
    setRecommendation(mode: TypingDrillMode, reason: string): void;
    showNoRecommendation(message: string, autoStartMode?: TypingDrillMode | null): void;
    private formatReactionKey;
    private getReactionAverageMs;
    private getReactionBestMs;
    private supportLaneLetter;
    private supportLaneNumber;
    private formatSupportLane;
    private getSupportAverageMs;
    private getSupportBestMs;
    private startSupport;
    private stopSupport;
    private setNextSupportPrompt;
    private startReaction;
    private stopReactionPrompt;
    private queueReactionPrompt;
    private stopReading;
    private buildReadingQueue;
    private startReading;
    private getReadingQuestionNumber;
    private getLessonLabel;
    private getModeLabel;
    showToast(message: string): void;
}
export {};
//# sourceMappingURL=typingDrills.d.ts.map