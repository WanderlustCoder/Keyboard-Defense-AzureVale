[gd_scene format=3 load_steps=2]

[ext_resource type="Script" path="res://scripts/Battlefield.gd" id=1]

[node name="Battlefield" type="Control"]
anchor_right = 1.0
anchor_bottom = 1.0
script = ExtResource(1)

[node name="Background" type="ColorRect" parent="."]
anchor_right = 1.0
anchor_bottom = 1.0
color = Color(0.06, 0.06, 0.12, 1)

[node name="TopBar" type="HBoxContainer" parent="."]
anchor_right = 1.0
custom_minimum_size = Vector2(0, 46)
offset_left = 16
offset_top = 12
offset_right = -16

[node name="LessonLabel" type="Label" parent="TopBar"]
text = "Lesson"
size_flags_horizontal = 3

[node name="GoldLabel" type="Label" parent="TopBar"]
text = "Gold: 0"
size_flags_horizontal = 3
horizontal_alignment = 2

[node name="ExitButton" type="Button" parent="TopBar"]
text = "Retreat"

[node name="PlayField" type="PanelContainer" parent="."]
anchor_left = 0.05
anchor_top = 0.18
anchor_right = 0.95
anchor_bottom = 0.64

[node name="FieldSurface" type="ColorRect" parent="PlayField"]
anchor_right = 1.0
anchor_bottom = 1.0
color = Color(0.09, 0.08, 0.16, 1)

[node name="DrillHud" type="VBoxContainer" parent="PlayField"]
anchor_left = 0.1
anchor_top = 0.12
anchor_right = 0.9
anchor_bottom = 0.88
alignment = 1
theme_override_constants/separation = 6

[node name="DrillTitle" type="Label" parent="PlayField/DrillHud"]
text = "Drill"
horizontal_alignment = 1

[node name="DrillTarget" type="RichTextLabel" parent="PlayField/DrillHud"]
bbcode_enabled = true
fit_content = true
scroll_active = false
text = ""
autowrap_mode = 3

[node name="DrillProgress" type="Label" parent="PlayField/DrillHud"]
text = "Targets: 0/0"
horizontal_alignment = 1

[node name="DrillHint" type="Label" parent="PlayField/DrillHud"]
text = "Type the runes to defend the castle."
horizontal_alignment = 1
autowrap_mode = 3

[node name="CastleMarker" type="Label" parent="PlayField"]
anchor_left = 0.02
anchor_top = 0.75
anchor_right = 0.4
anchor_bottom = 0.95
text = "Castle: Eldenwatch"

[node name="StatusPanel" type="PanelContainer" parent="."]
anchor_left = 0.05
anchor_top = 0.66
anchor_right = 0.45
anchor_bottom = 0.82

[node name="Content" type="VBoxContainer" parent="StatusPanel"]
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 12
offset_top = 12
offset_right = -12
offset_bottom = -12

[node name="WordLabel" type="Label" parent="StatusPanel/Content"]
text = "Target:"

[node name="TypedLabel" type="Label" parent="StatusPanel/Content"]
text = "Typed:"

[node name="AccuracyLabel" type="Label" parent="StatusPanel/Content"]
text = "Accuracy: 100%"

[node name="WpmLabel" type="Label" parent="StatusPanel/Content"]
text = "WPM: 0"

[node name="MistakesLabel" type="Label" parent="StatusPanel/Content"]
text = "Errors: 0"

[node name="BonusPanel" type="PanelContainer" parent="."]
anchor_left = 0.55
anchor_top = 0.66
anchor_right = 0.95
anchor_bottom = 0.82

[node name="BonusLabel" type="Label" parent="BonusPanel"]
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 12
offset_top = 12
offset_right = -12
offset_bottom = -12
text = "Bonuses: None"
autowrap_mode = 3

[node name="ThreatPanel" type="PanelContainer" parent="."]
anchor_left = 0.05
anchor_top = 0.84
anchor_right = 0.95
anchor_bottom = 0.96

[node name="ThreatBar" type="ProgressBar" parent="ThreatPanel"]
anchor_left = 0.03
anchor_top = 0.18
anchor_right = 0.97
anchor_bottom = 0.52
min_value = 0
max_value = 100
value = 0

[node name="CastleLabel" type="Label" parent="ThreatPanel"]
anchor_left = 0.03
anchor_top = 0.58
anchor_right = 0.97
anchor_bottom = 0.9
text = "Castle Health: 3"

[node name="ResultPanel" type="PanelContainer" parent="."]
anchor_left = 0.2
anchor_top = 0.28
anchor_right = 0.8
anchor_bottom = 0.72
visible = false

[node name="Content" type="VBoxContainer" parent="ResultPanel"]
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 16
offset_top = 16
offset_right = -16
offset_bottom = -16
alignment = 1

[node name="ResultLabel" type="Label" parent="ResultPanel/Content"]
text = "Victory!"
horizontal_alignment = 1

[node name="ResultButton" type="Button" parent="ResultPanel/Content"]
text = "Return"

[node name="DebugPanel" type="PanelContainer" parent="."]
anchor_left = 0.1
anchor_top = 0.12
anchor_right = 0.9
anchor_bottom = 0.88
visible = false

[node name="Content" type="VBoxContainer" parent="DebugPanel"]
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 16
offset_top = 16
offset_right = -16
offset_bottom = -16
theme_override_constants/separation = 8

[node name="Header" type="Label" parent="DebugPanel/Content"]
text = "Debug Drill Overrides (JSON)"
horizontal_alignment = 1

[node name="OverridesText" type="TextEdit" parent="DebugPanel/Content"]
custom_minimum_size = Vector2(0, 240)
size_flags_vertical = 3
size_flags_horizontal = 3
wrap_mode = 1

[node name="ButtonRow" type="HBoxContainer" parent="DebugPanel/Content"]
alignment = 1
theme_override_constants/separation = 10

[node name="ApplyButton" type="Button" parent="DebugPanel/Content/ButtonRow"]
text = "Apply"

[node name="CopyButton" type="Button" parent="DebugPanel/Content/ButtonRow"]
text = "Copy JSON"

[node name="CloseButton" type="Button" parent="DebugPanel/Content/ButtonRow"]
text = "Close"

[node name="StatusLabel" type="Label" parent="DebugPanel/Content"]
text = "Press Apply to reload drills."
autowrap_mode = 3
