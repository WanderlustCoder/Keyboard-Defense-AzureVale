{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://keyboard-defense.local/schemas/telemetry.schema.json",
  "title": "Keyboard Defense Telemetry Event",
  "type": "object",
  "required": [
    "event",
    "ts",
    "appVersion",
    "contentVersion"
  ],
  "properties": {
    "event": {
      "type": "string"
    },
    "ts": {
      "type": "string",
      "description": "ISO timestamp; minute precision preferred."
    },
    "appVersion": {
      "type": "string"
    },
    "contentVersion": {
      "type": "string"
    },
    "runId": {
      "type": "string"
    },
    "payload": {
      "type": "object",
      "description": "Event-specific payload. Must not include raw typed text or PII.",
      "additionalProperties": true
    }
  },
  "additionalProperties": false
}
